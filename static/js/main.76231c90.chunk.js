(window.webpackJsonpimagep=window.webpackJsonpimagep||[]).push([[0],{21:function(e){e.exports=JSON.parse('{"apiDomain":"https://api.github.com","auth":{"dev":{"clientId":"f13f3e45b57022b4c556","authorizeURL":"https://github.com/login/oauth/authorize","accessURL":"https://us-central1-imagep.cloudfunctions.net/github-auth-dev"},"prod":{"clientId":"3cc05cf4699e4a9e3096","authorizeURL":"https://github.com/login/oauth/authorize","accessURL":"https://us-central1-imagep.cloudfunctions.net/github-auth"}}}')},46:function(e,t,a){e.exports=a(85)},72:function(e,t,a){},73:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(22),c=a.n(i),s=a(24),l=a(20),o=a(30),u=a(17),m=a.n(u);var h=Object(o.a)({set:function(e,t){return t},setLoading:function(){return{isLoading:!0}},reset:function(){return null},load:Object(o.b)((function(e){return e.setLoading(),m.a.get("user").then((function(t){var a=t.data;return e.set({name:a.name,login:a.login,avatarURL:a.avatar_url,profileURL:a.html_url}),t})).catch((function(t){throw e.reset(),t}))}))}),d=Object(l.b)({currentUser:h}),f=Object(l.c)(d);var g={isDev:function(){return!1}},p=a(21),E=g.isDev()?p.auth.dev:p.auth.prod;function v(){var e=localStorage.getItem("imagep_github_state");e||(e=function(e){for(var t=[],a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=a.length,r=0;r<e;r++)t.push(a.charAt(Math.floor(Math.random()*n)));return t.join("")}(12),localStorage.setItem("imagep_github_state",e));var t=new URL(E.authorizeURL);return t.searchParams.set("client_id",E.clientId),t.searchParams.set("state",e),t.searchParams.set("scope","gist"),t.toString()}function b(){N()}function S(){return localStorage.getItem("imagep_access_token")}function N(e){e="string"===typeof e?e:"",localStorage.setItem("imagep_access_token",e),window.dispatchEvent(new StorageEvent("storage",{key:"imagep_access_token",newValue:e}))}function w(e){m.a.defaults.baseURL=p.apiDomain,m.a.defaults.headers.common.Authorization="token "+S(),function(e){S()?e.load():e.reset()}(e)}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var y=a(44),O=a(16),j=a(11),I=a(12),U=a(14),k=a(13),L=a(15),R=(a(72),function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(U.a)(this,Object(k.a)(t).call(this,e))).state={signinURL:v()},a}return Object(L.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return r.a.createElement("a",{href:this.state.signinURL,target:"_blank",rel:"noopener noreferrer",className:"sign-in-button"},r.a.createElement("i",{className:"fa fa-github"})," Sign in")}}]),t}(r.a.Component)),_=a(10);a(73);var M=function(e){var t=e.currentUser;return r.a.createElement("div",{className:"user-menu"},r.a.createElement(_.a,{alignRight:!0},r.a.createElement(_.a.Toggle,{variant:"link"},r.a.createElement("img",{alt:"",className:"avatar",src:t.avatarURL+"s=40",height:"20",width:"20"})),r.a.createElement(_.a.Menu,null,r.a.createElement(_.a.Item,{href:"#/your"},"Your Functions"),r.a.createElement(_.a.Item,{href:"#/starred"},"Starred Functions"),r.a.createElement(_.a.Item,{href:"#/gallery"},"Gallery"),r.a.createElement(_.a.Divider,null),r.a.createElement(_.a.Item,{onClick:b},"Sign Out"))))};a(75);var z=Object(s.b)((function(e){return{currentUser:e.currentUser}}))((function(e){var t;return e.currentUser?t=e.currentUser.isLoading?r.a.createElement("i",{className:"fa fa-spinner fa-spin","aria-hidden":"true"}):r.a.createElement(M,{currentUser:e.currentUser}):-1===window.location.hash.indexOf("/signin")&&(t=r.a.createElement(R,null)),r.a.createElement("header",{className:"navbar"},r.a.createElement("span",{className:"logo"},r.a.createElement("a",{href:"/#/"},"ImageP"),r.a.createElement("span",{className:"company-name"}," by ImageLabs")),t)})),P=(a(76),{IN_PROGRESS:Symbol("in-progress"),SUCCESS:Symbol("success"),FAILURE:Symbol("failure")}),C=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(U.a)(this,Object(k.a)(t).call(this,e))).state={signInStatus:P.IN_PROGRESS},a.init(e),a}return Object(L.a)(t,e),Object(I.a)(t,[{key:"init",value:function(e){var t,a,n=this,r=new URLSearchParams(window.location.search);(t=r.get("code"),a=r.get("state"),a===localStorage.getItem("imagep_github_state")?m.a.post(E.accessURL,{code:t,state:a}).then((function(e){return N(e.data.access_token),e})).catch((function(e){throw N(),e})):Promise.reject()).then((function(e){n.setSignInStatus(P.SUCCESS),window.open("","_self").close()})).catch((function(){n.setSignInStatus(P.FAILURE)}))}},{key:"setSignInStatus",value:function(e){this.setState({signInStatus:e})}},{key:"getMessage",value:function(e){switch(e){case P.IN_PROGRESS:return r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-spinner fa-spin","aria-hidden":"true"}),"Signing into GitHub...");case P.SUCCESS:return r.a.createElement("div",{className:"alert alert-success"},r.a.createElement("i",{className:"fa fa-check-circle-o","aria-hidden":"true"}),"Signed into GitHub successfully!");case P.FAILURE:return r.a.createElement("div",{className:"alert alert-danger"},r.a.createElement("i",{className:"fa fa-exclamation-triangle","aria-hidden":"true"}),"Signing into GitHub failed!");default:return r.a.createElement("div",{className:"alert alert-info"},r.a.createElement("i",{className:"fa fa-exclamation-triangle","aria-hidden":"true"}),"Not signed into GitHub!")}}},{key:"render",value:function(){var e=this.getMessage(this.state.signInStatus);return r.a.createElement("div",{className:"sign-in"},r.a.createElement("i",{className:"fa fa-5x fa-github"}),e)}}]),t}(r.a.Component),x=a(18),D=(a(77),function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(U.a)(this,Object(k.a)(t).call(this,e))).state={isMinimized:!1},a.toggleMinMax=a.toggleMinMax.bind(Object(x.a)(a)),a}return Object(L.a)(t,e),Object(I.a)(t,[{key:"toggleMinMax",value:function(){!1!==this.props.minimizable&&this.setState({isMinimized:!this.state.isMinimized})}},{key:"render",value:function(){var e="panel";return!1===this.props.minimizable?e+=" minimize-disabled":this.state.isMinimized&&(e+=" minimized"),r.a.createElement("div",{className:e},r.a.createElement("div",{className:"panel-header",onClick:this.toggleMinMax},r.a.createElement("span",{className:"panel-name"},r.a.createElement("i",{className:"fa fa-chevron-down","aria-hidden":"true"}),this.props.title),r.a.createElement("span",{className:"panel-controls"},this.props.controls)),r.a.createElement("div",{className:"panel-body"},this.props.children))}}]),t}(r.a.Component)),G=(a(78),function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(U.a)(this,Object(k.a)(t).call(this,e))).state={leftPanelWidth:50},a.startDrag=a.startDrag.bind(Object(x.a)(a)),a}return Object(L.a)(t,e),Object(I.a)(t,[{key:"startDrag",value:function(){var e=this,t=window.screen.width;function a(a){var n=a.clientX/t*100;e.setState({leftPanelWidth:n})}document.addEventListener("mousemove",a),document.addEventListener("mouseup",(function(e){document.removeEventListener("mousemove",a)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"editor"},r.a.createElement("div",{className:"editor-header"},r.a.createElement("span",{className:"header-left"},r.a.createElement("i",{className:"fa fa-star-o","aria-hidden":"true"}),"Untitled function"),r.a.createElement("span",{className:"header-right"},r.a.createElement("i",{className:"fa fa-cog","aria-hidden":"true"}),r.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm"},r.a.createElement("i",{className:"fa fa-save","aria-hidden":"true"})," Save"))),r.a.createElement("div",{className:"editor-body"},r.a.createElement("div",{className:"left-panels",style:{width:this.state.leftPanelWidth+"%"}},r.a.createElement(D,{title:"Input",controls:r.a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})},r.a.createElement("img",{src:"https://www.w3schools.com/html/pic_trulli.jpg",alt:"Italian Trulli"})),r.a.createElement(D,{title:"Result",minimizable:!1},r.a.createElement("img",{src:"https://www.w3schools.com/html/pic_trulli.jpg",alt:"Italian Trulli"}))),r.a.createElement("div",{className:"panel-gutter"},r.a.createElement("div",{className:"gutter-bar",onMouseDown:this.startDrag})),r.a.createElement("div",{className:"function-code",style:{width:100-this.state.leftPanelWidth+"%"}})))}}]),t}(r.a.Component));a(79);var A=function(){return r.a.createElement("div",{className:"starred"},r.a.createElement("h1",null,"Starred"))};a(80);var W=function(){return r.a.createElement("div",{className:"your"},r.a.createElement("h1",null,"Your"))};a(81);var F=function(){return r.a.createElement("div",{className:"gallery"},r.a.createElement("h1",null,"Gallery"))};a(82);var H=function(){return r.a.createElement("div",{className:"app"},r.a.createElement(z,null),r.a.createElement(y.a,{basename:"/"},r.a.createElement(O.a,{exact:!0,path:"/",component:G}),r.a.createElement(O.a,{path:"/starred",component:A}),r.a.createElement(O.a,{path:"/your",component:W}),r.a.createElement(O.a,{path:"/gallery",component:F}),r.a.createElement(O.a,{path:"/signin",component:C})))};a(84);!function(e){var t,a=h.getActions(e.dispatch);w(a),t=function(){return w(a)},window.addEventListener("storage",(function(e){"imagep_access_token"===e.key&&t(e)}))}(f);var J=document.getElementById("root");c.a.render(r.a.createElement(s.a,{store:f},r.a.createElement(H,null)),J),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[46,1,2]]]);
//# sourceMappingURL=main.76231c90.chunk.js.map